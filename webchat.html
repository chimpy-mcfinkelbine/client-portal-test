<!DOCTYPE html>
<html>
  <head>
    <title>Welcome to Client Portal</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 2rem;
      }
    </style>
    <script>
      window.dxe = { server: "https://us-central.dx.dialpad.com" };
    </script>
    <script async type="module" src="https://us-central.dx.dialpad.com/dxclient/dist/dialpad-chatbot.es.js"></script>
  </head>
  <body>
    <h2>Welcome, <span id="userName">Client</span>!</h2>
    <p>Email: <span id="userEmail"></span><br>Office ID: <span id="userOID"></span></p>

    <div
      id="dx_chatbot_fab_wrapper_id"
      style="background-color:#6c1396; border-radius:50%; box-sizing: border-box; display: flex; height:56px; overflow:hidden; padding:12px; width:56px; position: fixed; bottom: 16px; right: 16px; z-index: 123;"
    >
      <img
        data-dxchannelid="bda2a68bb340432b98fcf502a734dec2"
        data-dxprovemail=""
        id="dx_chatbot_fab_id"
        src="https://us-central.dx.dialpad.com/kpd-static/providers/83087440/webchat/bda2a68bb340432b98fcf502a734dec2/images/fab-icon.png"
        style="clip-path:circle(50%); object-fit: contain; height: auto; width: 100%;"
      />
    </div>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const name = urlParams.get("name") || "Anonymous";
      const email = urlParams.get("email") || "unknown@example.com";
      const oid = urlParams.get("oid") || "UnknownOID";

      // Set welcome text
      document.getElementById("userName").innerText = name;
      document.getElementById("userEmail").innerText = email;
      document.getElementById("userOID").innerText = oid;

      // Inject client email into the chatbot button
      document.getElementById("dx_chatbot_fab_id").setAttribute("data-dxprovemail", email);
    </script>
  </body>
</html>
